<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Passenger Booking PWA</title>
<link rel="manifest" href="manifest.json">
<style>
  body { font-family: Arial, sans-serif; max-width: 500px; margin: auto; padding: 20px; }
  h1,h2{text-align:center;}
  label { display:block; margin-top:10px; }
  input, select, button { width:100%; padding:8px; margin-top:5px; box-sizing:border-box; }
  button { background:#007bff; color:#fff; border:none; border-radius:5px; margin-top:10px; cursor:pointer; }
  button:hover { background:#0056b3; }
  #confirmation { margin-top:15px; font-weight:bold; text-align:center; white-space: pre-line; }
</style>
</head>
<body>

<h1>Passenger Booking PWA</h1>

<h2>Booking Form</h2>

<label>Pick-up Location</label>
<input type="text" id="pickup" placeholder="Enter pick-up location">

<label>Destination</label>
<select id="destination">
  <option value="T1">KLIA Terminal 1</option>
  <option value="T2">KLIA Terminal 2</option>
</select>

<label>Service Type</label>
<select id="service">
  <option value="ekonomi">Ekonomi - RM 60</option>
  <option value="6sitter">6 Sitter - RM 75</option>
  <option value="plus">Plus - RM 80</option>
  <option value="exec">Exec - RM 185</option>
</select>

<label>Date & Time</label>
<input type="datetime-local" id="datetime">

<label>Payment Method</label>
<select id="payment">
  <option>Cash</option>
  <option>Credit Card</option>
</select>

<button onclick="bookJob()">BOOKING NOW</button>

<div id="confirmation"></div>

<script>
function bookJob(){
  const pickup = document.getElementById('pickup').value;
  const destination = document.getElementById('destination').value;
  const service = document.getElementById('service').value;
  const datetime = document.getElementById('datetime').value;
  const payment = document.getElementById('payment').value;

  let price = {ekonomi:60,'6sitter':75,plus:80,exec:185}[service];
  let commission = price*0.15;

  const hour = new Date(datetime).getHours();
  if((hour >=5 && hour<=10) || (hour>=17 && hour<=21)){ price *=1.25; } // HF

  const destName = destination==='T1' ? 'KLIA Terminal 1' : 'KLIA Terminal 2';

  document.getElementById('confirmation').innerText =
    `Booking Confirmed!\nPick-up: ${pickup}\nDestination: ${destName}\nService: ${service}\nDateTime: ${datetime}\nPayment: ${payment}\nPrice: RM ${price.toFixed(2)}\nCommission Deduction: RM ${commission.toFixed(2)}`;
}
</script>

</body>
</html>
